# Trader App ìµœì¢… í…ŒìŠ¤íŠ¸ ê²°ê³¼ ë³´ê³ ì„œ

## ìš”ì•½

ê¸°ì¡´ í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ 98.2%ëŠ” ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ìœ„ì£¼ë¡œ ë‹¬ì„±ë˜ì—ˆìœ¼ë©°, ì‹¤ì œ ì‚¬ìš©ì ê²½í—˜ì„ ë°˜ì˜í•˜ëŠ” í†µí•© í…ŒìŠ¤íŠ¸ê°€ ë¶€ì¡±í–ˆìŠµë‹ˆë‹¤. ì‹¤ì œ ì•± ì‹¤í–‰ í…ŒìŠ¤íŠ¸ ê²°ê³¼, ëª¨ë“  í™”ë©´ ì „í™˜ê³¼ ê¸°ëŠ¥ì´ ì •ìƒ ì‘ë™í•˜ì§€ë§Œ, ìë™í™”ëœ í…ŒìŠ¤íŠ¸ ì²´ê³„ëŠ” ê°œì„ ì´ í•„ìš”í•©ë‹ˆë‹¤.

## ì£¼ìš” ë°œê²¬ ì‚¬í•­

### 1. í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ì˜ í—ˆì 

#### í˜„ì¬ ìƒíƒœ
- **ë‹¨ìœ„ í…ŒìŠ¤íŠ¸**: ëŒ€ë¶€ë¶„ì˜ ì»¤ë²„ë¦¬ì§€ ì°¨ì§€
- **Widget í…ŒìŠ¤íŠ¸**: ì¼ë¶€ êµ¬í˜„
- **í†µí•© í…ŒìŠ¤íŠ¸**: ë¯¸í¡
- **E2E í…ŒìŠ¤íŠ¸**: ì—†ìŒ

#### ë¬¸ì œì 
- ë†’ì€ ì»¤ë²„ë¦¬ì§€(98.2%)ì—ë„ ë¶ˆêµ¬í•˜ê³  ì‹¤ì œ í™”ë©´ ì „í™˜ í…ŒìŠ¤íŠ¸ ë¶€ì¬
- Mock ë°ì´í„°ì— ê³¼ë„í•˜ê²Œ ì˜ì¡´
- Provider ìƒíƒœ ë³€ê²½ ì‹œ í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨
- ë¹„ë™ê¸° ì‘ì—…ê³¼ íƒ€ì´ë¨¸ ì²˜ë¦¬ ë¯¸í¡

### 2. ì‹¤ì œ ì•± ë™ì‘ í…ŒìŠ¤íŠ¸ ê²°ê³¼

#### âœ… ì •ìƒ ì‘ë™ ê¸°ëŠ¥
1. **ì•± ì‹œì‘ í”Œë¡œìš°**
   - ìŠ¤í”Œë˜ì‹œ í™”ë©´ â†’ ì–¸ì–´ ì„ íƒ â†’ ì˜¨ë³´ë”© â†’ íŠ¸ë ˆì´ë” ì„ íƒ â†’ ë¡œê·¸ì¸

2. **ì¸ì¦ ì‹œìŠ¤í…œ**
   - Supabase Google OAuth êµ¬í˜„ ì™„ë£Œ
   - ë¡œê·¸ì¸/ë¡œê·¸ì•„ì›ƒ ì •ìƒ ì‘ë™
   - ì„¸ì…˜ ê´€ë¦¬ ì •ìƒ

3. **í™”ë©´ ë„¤ë¹„ê²Œì´ì…˜**
   - ëª¨ë“  íƒ­ ë„¤ë¹„ê²Œì´ì…˜ ì •ìƒ
   - ìƒì„¸ í™”ë©´ ì „í™˜ ì •ìƒ
   - ë’¤ë¡œê°€ê¸° ì²˜ë¦¬ ì •ìƒ

4. **ë‹¤êµ­ì–´ ì§€ì›**
   - 10ê°œ ì–¸ì–´ ì™„ë²½ ì§€ì›
   - ì–¸ì–´ ë³€ê²½ ì¦‰ì‹œ ë°˜ì˜
   - \n í‘œì‹œ ë¬¸ì œ í•´ê²°ë¨

#### âš ï¸ ê°œì„  í•„ìš” ì‚¬í•­
1. **í…ŒìŠ¤íŠ¸ ìë™í™”**
   - StateNotifierProvider ë³€ê²½ìœ¼ë¡œ ì¸í•œ í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨
   - Timer ê´€ë ¨ í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨
   - Mock provider ì„¤ì • ë¬¸ì œ

2. **ì„±ëŠ¥ í…ŒìŠ¤íŠ¸**
   - ëŒ€ëŸ‰ ë°ì´í„° ì²˜ë¦¬ í…ŒìŠ¤íŠ¸ ì—†ìŒ
   - ë„¤íŠ¸ì›Œí¬ ì§€ì—° ì‹œë‚˜ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸ ì—†ìŒ
   - ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ í…ŒìŠ¤íŠ¸ ì—†ìŒ

## êµ¬ì²´ì ì¸ ë¬¸ì œì™€ í•´ê²° ë°©ì•ˆ

### 1. Provider í…ŒìŠ¤íŠ¸ ë¬¸ì œ

#### ë¬¸ì œ ì½”ë“œ
```dart
// ê¸°ì¡´ - ì‹¤íŒ¨
final subscription = await container.read(subscriptionProvider.future);
```

#### í•´ê²° ë°©ì•ˆ
```dart
// ìˆ˜ì •ë¨
final subscriptionState = container.read(subscriptionProvider);
subscriptionState.when(
  data: (subscription) { /* í…ŒìŠ¤íŠ¸ */ },
  loading: () => {},
  error: (_, __) => {},
);
```

### 2. íƒ€ì´ë¨¸ í…ŒìŠ¤íŠ¸ ë¬¸ì œ

#### ë¬¸ì œ
- pumpAndSettle() íƒ€ì„ì•„ì›ƒ
- ìŠ¤í”Œë˜ì‹œ í™”ë©´ 3ì´ˆ íƒ€ì´ë¨¸ ëŒ€ê¸° ë¶ˆê°€

#### í•´ê²° ë°©ì•ˆ
```dart
// FakeAsync ì‚¬ìš©
testWidgets('timer test', (tester) async {
  await tester.runAsync(() async {
    // ì‹¤ì œ íƒ€ì´ë¨¸ ë™ì‘
  });
});
```

### 3. í†µí•© í…ŒìŠ¤íŠ¸ ë³µì¡ë„

#### ë¬¸ì œ
- ì „ì²´ ì•± í”Œë¡œìš° í…ŒìŠ¤íŠ¸ ì‹œ ë©”ëª¨ë¦¬ ì˜¤ë¥˜
- Supabase ì´ˆê¸°í™” ë¹„ë™ê¸° ì²˜ë¦¬ ë¬¸ì œ

#### í•´ê²° ë°©ì•ˆ
- í™”ë©´ë³„ ê°œë³„ í†µí•© í…ŒìŠ¤íŠ¸ ì‘ì„±
- Test doubles ì‚¬ìš©
- ì‹œë‚˜ë¦¬ì˜¤ë³„ í…ŒìŠ¤íŠ¸ ë¶„ë¦¬

## ê°œì„  ê¶Œì¥ì‚¬í•­

### ì¦‰ì‹œ ì ìš© í•„ìš”

1. **ê¸°ì¡´ í…ŒìŠ¤íŠ¸ ìˆ˜ì •**
   ```bash
   # ì‹¤íŒ¨í•˜ëŠ” í…ŒìŠ¤íŠ¸ ìˆ˜ì •
   - subscription_provider_test.dart
   - widget_test.dart
   ```

2. **Mock ì„¤ì • ê°œì„ **
   ```dart
   // í…ŒìŠ¤íŠ¸ìš© Provider ì˜¤ë²„ë¼ì´ë“œ
   ProviderScope(
     overrides: [
       mockDataServiceProvider.overrideWithValue(mockService),
     ],
   )
   ```

### ë‹¨ê¸° ê°œì„  (1-2ì£¼)

1. **í•µì‹¬ í”Œë¡œìš° í†µí•© í…ŒìŠ¤íŠ¸**
   - ë¡œê·¸ì¸ â†’ í™ˆ í™”ë©´ â†’ ì¶”ì²œ í™•ì¸
   - í¬ì§€ì…˜ ì¶”ê°€/ì‚­ì œ
   - êµ¬ë… í”Œëœ ë³€ê²½

2. **í™”ë©´ë³„ Widget í…ŒìŠ¤íŠ¸**
   - ê° í™”ë©´ì˜ ìƒíƒœ ë³€ê²½ í…ŒìŠ¤íŠ¸
   - ì—ëŸ¬ ì²˜ë¦¬ í…ŒìŠ¤íŠ¸
   - ë¡œë”© ìƒíƒœ í…ŒìŠ¤íŠ¸

### ì¥ê¸° ê°œì„  (1ê°œì›”)

1. **E2E í…ŒìŠ¤íŠ¸ í”„ë ˆì„ì›Œí¬ ë„ì…**
   - Patrol ë˜ëŠ” Maestro ì‚¬ìš©
   - CI/CD íŒŒì´í”„ë¼ì¸ í†µí•©
   - ì‹¤ì œ ë””ë°”ì´ìŠ¤ í…ŒìŠ¤íŠ¸

2. **ì„±ëŠ¥ í…ŒìŠ¤íŠ¸**
   - Flutter DevTools í†µí•©
   - ë©”ëª¨ë¦¬ í”„ë¡œíŒŒì¼ë§
   - ë Œë”ë§ ì„±ëŠ¥ ì¸¡ì •

3. **ì‹œê°ì  íšŒê·€ í…ŒìŠ¤íŠ¸**
   - Golden í…ŒìŠ¤íŠ¸ ì¶”ê°€
   - ìŠ¤í¬ë¦°ìƒ· ë¹„êµ
   - UI ì¼ê´€ì„± ê²€ì¦

## ê²°ë¡ 

í˜„ì¬ ì•±ì€ **ì‹¤ì œ ì‚¬ìš©ì—ëŠ” ë¬¸ì œê°€ ì—†ìœ¼ë‚˜**, í…ŒìŠ¤íŠ¸ ìë™í™” ì²´ê³„ê°€ ë¯¸í¡í•©ë‹ˆë‹¤. 

### í•µì‹¬ ë©”ì‹œì§€
> "98.2% í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ëŠ” ìˆ«ìì— ë¶ˆê³¼í•©ë‹ˆë‹¤. ì‹¤ì œ ì‚¬ìš©ì ê²½í—˜ì„ ê²€ì¦í•˜ëŠ” í†µí•© í…ŒìŠ¤íŠ¸ì™€ E2E í…ŒìŠ¤íŠ¸ê°€ ì§„ì •í•œ í’ˆì§ˆì„ ë³´ì¥í•©ë‹ˆë‹¤."

### ìš°ì„ ìˆœìœ„
1. ğŸ”´ **ê¸´ê¸‰**: ì‹¤íŒ¨í•˜ëŠ” í…ŒìŠ¤íŠ¸ ìˆ˜ì •
2. ğŸŸ¡ **ì¤‘ìš”**: í†µí•© í…ŒìŠ¤íŠ¸ ì¶”ê°€
3. ğŸŸ¢ **ê°œì„ **: E2E í…ŒìŠ¤íŠ¸ ë„ì…

## ë¶€ë¡: í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ëª…ë ¹ì–´

```bash
# ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
flutter test test/unit/

# Widget í…ŒìŠ¤íŠ¸
flutter test test/widget/

# í†µí•© í…ŒìŠ¤íŠ¸
flutter test integration_test/

# ì»¤ë²„ë¦¬ì§€ ì¸¡ì •
flutter test --coverage

# íŠ¹ì • í…ŒìŠ¤íŠ¸ë§Œ ì‹¤í–‰
flutter test test/unit/providers/subscription_provider_test.dart
```